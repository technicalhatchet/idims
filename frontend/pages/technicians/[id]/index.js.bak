mport { useState } from 'react'; import { withPageAuthRequired } from '@auth0/nextjs-auth0/client'; import Head from 'next/head'; import Link from 'next/link'; import { useRouter } from 'next/router'; import { FaEdit, FaTimes, FaExclamationTriangle } from 'react-icons/fa'; import DashboardLayout from '../../components/layouts/DashboardLayout'; import TechnicianDetails from '@/components/technicians/TechnicianDetails'; import LoadingSpinner from '@/components/ui/LoadingSpinner'; import ErrorAlert from '../../components/ui/ErrorAlert'; import Modal from '@/components/ui/Modal'; import Button from '@/components/ui/Button'; import { useTechnician, useTechnicianMutations } from '@/hooks/useTechnicians'; import { useAuthRedirect } from '../../hooks/useAuthRedirect';  function TechnicianDetail() {   const router = useRouter();   const { id } = router.query;   const [showDeleteModal, setShowDeleteModal] = useState(false);      // Check authorization (only managers and admins)   useAuthRedirect({ allowedRoles: ['admin', 'manager'] });    // Fetch technician details   const {      data: technician,      isLoading,     error,     refetch   } = useTechnician(id);    if (isLoading) {     return (       <div className="px-4 py-6">         <LoadingSpinner />       </div>     );   }    if (error) {     return (       <div className="px-4 py-6">         <ErrorAlert            message="Failed to load technician details"            onRetry={refetch}         />       </div>     );   }    return (     <>       <Head>         <title>{`Edit ${technician?.user?.first_name} ${technician?.user?.last_name} | Technician | Service Business Management`}</title>       </Head>        <div className="px-4 py-6">         <div className="mb-6">           <h1 className="text-2xl font-bold">Edit Technician</h1>         </div>          <div className="bg-white shadow rounded-lg p-6">           <TechnicianForm              initialData={technician}              isEdit={true}            />         </div>       </div>     </>   ); }  EditTechnician.getLayout = function getLayout(page) {   return <DashboardLayout>{page}</DashboardLayout>; };  export const getServerSideProps = withPageAuthRequired({
  async getServerSideProps(ctx) {
    return {
      props: {}
    };
  }
});  export default EditTechnician;